#
# TeX generation Makefile
#
# The purpose of this Makefile is the generation of TeX files which are used in
# the main document.
#
# Generation is performed by shell scripts which are located in this directory
# and whose filename matches "*.gen.sh". The Scripts shall accept one argument
# which will be the path of the file to generate.
#




##
## Variables
##

# Avoid strange shell setups, as proposed by the GNU coding standards
SHELL = /bin/sh

# Defile set with all output files generated by this Makefile
GEN_TEX=$(patsubst %.sh, %.tex, $(wildcard *.gen.sh))




##
## Tasks
##


#
# Standart task
#
# Pulls in all TeX files to generate, does nothing on it's own.
#
all: $(GEN_TEX)


#
# Generate tex files from shell scripts
#
%.tex: %.sh
	@$(ECHO) "\t[GEN]\t$@"
	@sh $< $@


#
# Clean task
#
clean:
	@$(ECHO) "\t[RM] *.gen.tex"
	@rm -f *.gen.tex




